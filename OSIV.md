
## OSIV (Open Session In View)

OSIV가 "On"으로 설정된 경우 (기본값은 true):

- `@Transaction` 범위는 `@Transaction` 범위가 끝난 후에도 API 응답이 완료될 때까지 영속성 컨텍스트와 데이터베이스 연결을 유지합니다.
- 지연 로딩이 가능하며, 영속성 컨텍스트가 계속 유지되므로 지연 로딩을 사용할 수 있는 장점이 있습니다.
- 그러나 확장된 기간 동안 데이터베이스 연결 리소스를 사용하므로 실시간 트래픽이 중요한 애플리케이션의 경우 연결 부족이 발생할 수 있습니다.
- 대기 시간 동안에도 연결 리소스가 해제되지 않으면 트래픽 장애 가능성이 있습니다.

OSIV가 "Off"로 설정된 경우:

- 트랜잭션이 종료되면 영속성 컨텍스트와 데이터베이스 연결이 닫힙니다.
- 모든 지연 로딩은 트랜잭션 내에서 처리되어야 합니다. 따라서 모든 지연 로딩 코드를 트랜잭션 내에 배치해야 합니다.


커맨드와 쿼리 분리:

- 복잡한 애플리케이션 개발 시 관심사를 명확하게 분리해야 한다.
- ex) OrderService ( 핵심 비지니스 로직 ) , OrderQueryService ( 화면에 맞춘 API 서비스, 주로 읽기 전용 )
- 서비스 계층에서 트랜잭션을 유지한다. 따라서 트랙잭션을 유지하면서 지연로딩을 사용할 수 있다.
- 실시간 API에서는 OSIV를 사용하지 않고, 커넥션을 많이 사용하지 않는다면 OSIV를 켜놓는다.
